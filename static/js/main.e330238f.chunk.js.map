{"version":3,"sources":["fixtures/stylesSystem.js","components/InputInterface/InputInterface.styles.js","components/InputInterface/InputInterface.js","fixtures/defaultInputs.js","components/PassagesList/PassagesList.styles.js","components/PassageItem/PassageItem.styles.js","components/PassageItem/PassageItem.js","store/services/newsClassifier.js","components/PassagesList/PassagesList.js","components/NewsClassifier/NewsClassifier.styles.js","components/NewsClassifier/NewsClassifier.js","fixtures/globals.js","App.js","store/index.js","index.js"],"names":["boxShadow","negColor","negGrad","posColor","posGrad","neuColor","neuGrad","borderRadius","NewsInputWrapper","styled","div","NewsTextArea","textarea","TagBar","input","SubmitButton","button","InputInterface","onHandleSubmitButton","useState","newsTextAreaInput","setNewsTextAreaInput","tagBarInput","setTagBarInput","console","log","onChange","e","target","value","placeholder","type","onClick","PassagesListWrapper","ArticleSummary","props","label","PassageItemWrapper","PassageText","PassageLabel","PassageItem","text","newsClassifierApi","createApi","reducerPath","baseQuery","fetchBaseQuery","baseUrl","process","REACT_APP_NGROK_URL","endpoints","builder","postArticle","query","body","method","usePostArticleQuery","PassagesList","tag","context_size","data","error","isLoading","isFetching","negPassages","neg_passages","map","passage","posPassages","pos_passages","neuPassages","neu_passages","passages","concat","article_label","n_neg","n_pos","n_neu","nanoid","NewsClassifierWrapper","Title","NewsClassifier","setText","setTag","className","Main","main","App","store","configureStore","reducer","middleware","getDefaultMiddleware","setupListeners","dispatch","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e330238f.chunk.js","sourcesContent":["export const boxShadow =\n  \"rgb(50 50 93 / 25%) 12px 14px 27px -5px, rgb(0 0 0 / 30%) 12px 13px 16px -8px\";\n\nexport const negColor = \"#ffc841\";\nexport const negGrad = \"linear-gradient(135deg, #ffc841 0%, #d43261 100%)\";\n\nexport const posColor = \"#73ffab\";\nexport const posGrad = \"linear-gradient(135deg, #73ffab 0%, #2da06d 100%)\";\n\nexport const neuColor = \"#8BC6EC\";\nexport const neuGrad = \"linear-gradient(135deg, #8BC6EC 0%, #9599E2 100%)\";\n\nexport const borderRadius = \"25px\";\n","import styled from \"styled-components\";\nimport { borderRadius, boxShadow } from \"../../fixtures/stylesSystem\";\n\nexport const NewsInputWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-between;\n\n  padding-top: 90px;\n  width: 90%;\n  max-width: 500px;\n  height: 400px;\n\n  margin-bottom: 40px;\n`;\n\nexport const NewsTextArea = styled.textarea`\n  box-sizing: border-box;\n  width: 100%;\n  height: 300px;\n  padding-top: 15px;\n  padding-right: 15%;\n  padding-left: 15px;\n  border: 2px solid #9599e2;\n  border-radius: ${borderRadius};\n\n  :focus {\n    border: 2px solid gray;\n  }\n`;\n\nexport const TagBar = styled.input`\n  max-width: 80%;\n  border: 2px solid #9599e2;\n  border-radius: ${borderRadius};\n  padding: 3px 10px;\n\n  :focus {\n    border: 2px solid gray;\n  }\n`;\n\nexport const SubmitButton = styled.button`\n  width: 130px;\n  height: 40px;\n  padding: 10px 25px;\n  border-radius: ${borderRadius};\n  border: 2px solid #9599e2;\n  font-family: \"Lato\", sans-serif;\n  font-weight: 500;\n  background: transparent;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  position: relative;\n  display: inline-block;\n\n  overflow: hidden;\n  transition: all 0.3s ease;\n\n  :hover {\n    background: #9599e2;\n    color: #fff;\n  }\n\n  :active {\n    background: gray;\n    border-color: gray;\n  }\n`;\n","import {\n  NewsInputWrapper,\n  NewsTextArea,\n  SubmitButton,\n  TagBar,\n} from \"./InputInterface.styles\";\nimport { useState } from \"react\";\nimport { defaultTag, defaultText } from \"../../fixtures/defaultInputs\";\n\nexport const InputInterface = ({ onHandleSubmitButton }) => {\n  const [newsTextAreaInput, setNewsTextAreaInput] = useState(defaultText);\n  const [tagBarInput, setTagBarInput] = useState(defaultTag);\n\n  console.log(newsTextAreaInput);\n  const handleChangeNewsTextArea = (e) => {\n    setNewsTextAreaInput(e.target.value);\n  };\n  const handleChangeTagBar = (e) => {\n    setTagBarInput(e.target.value);\n  };\n\n  const handleSubmit = () => {\n    onHandleSubmitButton(newsTextAreaInput, tagBarInput);\n    setNewsTextAreaInput(\"\");\n    setTagBarInput(\"\");\n  };\n\n  return (\n    <NewsInputWrapper>\n      <NewsTextArea\n        onChange={handleChangeNewsTextArea}\n        placeholder=\"Вставьте статью...\"\n        value={newsTextAreaInput}\n      />\n      <TagBar\n        type=\"text\"\n        placeholder=\"Введите тэг...\"\n        value={tagBarInput}\n        onChange={handleChangeTagBar}\n      />\n      <SubmitButton onClick={handleSubmit}>Отправить</SubmitButton>\n    </NewsInputWrapper>\n  );\n};\n","export const defaultText = `Парыгина рассказала об ужасном состоянии омского ЖКХ\nот 15.05.18 в 15:58\nверсия для печати\nПредприятия ЖКХ имеют гигантские долги, многие работают крайне неэффективно. Некоторые компании банкротятся и «кидают» своих должников.\n\nЗаместитель министра строительства и ЖКК региона Инна Парыгина на сегодняшнем совещании, посвященном окончанию отопительного сезона, рассказала о гигантских долгах сельских предприятий ЖКХ. По словам чиновницы, многие предприятия работают крайне неэффективно, имеют многомиллионные долги.\n\nomskinform.ru\n– Проводится слабая работа по ликвидации долгов. Задолженность предприятий ЖКХ перед ресурсоснабжающими организациями составляет 372 миллиона рублей, из них 238 миллионов – за поставленный природный газ. Из общей суммы долга 222 миллиона приходится на 4 района: Омский, Таврический, Черлакский и Калачинский, – сказала Парыгина.\n\nВ ряде районов предприятия ЖКХ обанкротились и «кинули» своих кредиторов. На пороге банкротства находятся предприятия ЖКХ Черлакского и Саргатского районов. При этом, по словам Парыгиной, районы плохо работают по ликвидации дебиторской задолженности – потребители коммунальных услуг задолжали местным ПОКХ более 500 млн рублей.\n\nomskinform.ru\n– Чего сидим, кого ждем? – обратилась к сельским главам чиновница.\n\nИнна Парыгина заявила, что неэффективность всей системы в целом вызвана целым рядом причин.\n\n– Предприятия не могут защитить тариф, их убыточность носит лавинообразный характер. Недоремонт вызывает потери тепла, а аварийный ремонт обходится в 2,5 раза дороже текущего, – сказала Парыгина. – При этом 55 % тарифов снизились по отношению к прошлому году – их не смогли защитить. В этом году будет сложно, как никогда, входить в отопительный сезон.\n\nomskinform.ru\nИногда сельские предприятия не могут даже собрать необходимые документы для Региональной энергетической комиссии. Инна Парыгина рассказала, что из 1000 человек управленческого состава предприятий ЖКХ лишь 1 % имеют высшее образование. При этом за 3 года убытки сферы сельского ЖКХ составили 396 млн рублей. Только из-за роста МРОТ с 1 мая 2018 года предприятия потеряют 30 миллионов – РЭК не учел этот фактор при расчете тарифов.\n\nomskinform.ru\nГлавы сразу нескольких районов сегодня заявили о необходимости увеличения тарифов – только так можно победить катастрофическое недофинансирование отрасли. Об этом, в частности, говорил глава Большереченского района Василий Майстепанов. Сразу несколько глав сказали, что никак не могут повлиять на расчет тарифов – РЭК просто их не слышит.\n\nomskinform.ru\nПри этом другой заместитель министра строительства и ЖКК, Дмитрий Шикалов, посетовал, что в Колосовском и Седельниковском районах отопительный сезон был фактически сорван – топливо шло с колес. В районах пришлось вводить режим ЧС. При этом износ оборудования в целом по всей сфере составляет 65 %. Нужна глубокая модернизация, денег на которую нет.\n\nomskinform.ru\nДобавим, что также сегодня были награждены главы районов, которые провели отопительный сезон на должном уровне. В их числе глава Калачинского района Фридрих Мецлер, Оконешниковского – Сергей Степанов, Таврического – Юрий Постовой, Любинского – Абай Ракимжанов, Тевризского – Артем Чуланов. После награждения глав накормили сытным обедом. Пожалуй, это был самый приятный момент сегодняшнего совещания.`;\n\nexport const defaultTag = \"ЖКХ\";\n","import styled from \"styled-components\";\nimport {\n  borderRadius,\n  boxShadow,\n  negColor,\n  negGrad,\n  neuColor,\n  neuGrad,\n  posColor,\n  posGrad,\n} from \"../../fixtures/stylesSystem\";\n\nexport const PassagesListWrapper = styled.div``;\n\nexport const ArticleSummary = styled.div`\n  max-width: 500px;\n  box-sizing: border-box;\n  padding: 25px;\n  border-radius: ${borderRadius};\n\n  background-color: ${(props) =>\n    (props.label === \"neg\" && negColor) ||\n    (props.label === \"pos\" && posColor) ||\n    (props.label === \"neu\" && neuColor)};\n  background-image: ${(props) =>\n    (props.label === \"neg\" && negGrad) ||\n    (props.label === \"pos\" && posGrad) ||\n    (props.label === \"neu\" && neuGrad)};\n\n  box-shadow: ${boxShadow};\n`;\n","import styled from \"styled-components\";\nimport {\n  borderRadius,\n  boxShadow,\n  negColor,\n  negGrad,\n  neuColor,\n  neuGrad,\n  posColor,\n  posGrad,\n} from \"../../fixtures/stylesSystem\";\n\nexport const PassageItemWrapper = styled.div`\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n  max-width: 500px;\n  box-sizing: border-box;\n  background-color: white;\n  background-color: ${(props) =>\n    (props.label === \"neg\" && negColor) ||\n    (props.label === \"pos\" && posColor) ||\n    (props.label === \"neu\" && neuColor)};\n  background-image: ${(props) =>\n    (props.label === \"neg\" && negGrad) ||\n    (props.label === \"pos\" && posGrad) ||\n    (props.label === \"neu\" && neuGrad)};\n  padding: 25px;\n  margin-top: 25px;\n  border-radius: ${borderRadius};\n\n  box-shadow: ${boxShadow};\n`;\n\nexport const PassageText = styled.div``;\n\nexport const PassageLabel = styled.div`\n  margin-left: 10px;\n`;\n","import {\n  PassageItemWrapper,\n  PassageLabel,\n  PassageText,\n} from \"./PassageItem.styles\";\n\nexport const PassageItem = (props) => {\n  return (\n    <PassageItemWrapper label={props.label}>\n      <PassageText>{props.text}</PassageText>\n      <PassageLabel>{props.label}</PassageLabel>\n    </PassageItemWrapper>\n  );\n};\n","import { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/query/react\";\n\nexport const newsClassifierApi = createApi({\n  reducerPath: \"newsClassifierApi\",\n  baseQuery: fetchBaseQuery({\n    baseUrl: process.env.REACT_APP_NGROK_URL,\n  }),\n  endpoints: (builder) => ({\n    postArticle: builder.query({ query: (body) => ({ body, method: \"POST\" }) }),\n  }),\n});\n\nexport const { usePostArticleQuery } = newsClassifierApi;\n","import { ArticleSummary, PassagesListWrapper } from \"./PassagesList.styles\";\nimport { PassageItem } from \"../PassageItem/PassageItem\";\nimport { usePostArticleQuery } from \"../../store/services/newsClassifier\";\nimport { nanoid } from \"@reduxjs/toolkit\";\n\nexport const PassagesList = ({ text, tag }) => {\n  const { data, error, isLoading, isFetching } = usePostArticleQuery({\n    text,\n    tag,\n    context_size: 1,\n  });\n\n  console.log(\"RTK\", data, error, isLoading);\n\n  if (isFetching) return <div>Обработка...</div>;\n\n  const negPassages = data && data.neg_passages.map((passage) => ({\n    passage,\n    label: \"neg\",\n  }));\n  const posPassages = data && data.pos_passages.map((passage) => ({\n    passage,\n    label: \"pos\",\n  }));\n  const neuPassages = data && data.neu_passages.map((passage) => ({\n    passage,\n    label: \"neu\",\n  }));\n\n  const passages = data && negPassages.concat(posPassages).concat(neuPassages);\n\n  if (data?.text) {\n    return (\n      <div>\n        <ArticleSummary label={data.article_label}>\n          <div>\n            Оценка вашей статьи по тегу '{data.tag}': {data.article_label}\n          </div>\n          <div>Негатинвых упоминаний: {data.n_neg}</div>\n          <div>Позитивных упоминаний: {data.n_pos}</div>\n          <div>Нейтральных упоминаний: {data.n_neu}</div>\n        </ArticleSummary>\n        <PassagesListWrapper>\n          <PassageItem text={\"Фрагмент статьи\"} label={\"Оценка\"} />\n          {passages.map(({ passage, label }) => (\n            <PassageItem key={nanoid()} text={passage} label={label} />\n          ))}\n        </PassagesListWrapper>\n      </div>\n    );\n  }\n\n  return <div></div>;\n};\n","import styled from \"styled-components\";\nimport { neuColor, neuGrad } from \"../../fixtures/stylesSystem\";\n\nexport const NewsClassifierWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nexport const Title = styled.div`\n  height: 50px;\n  width: 100%;\n  position: absolute;\n  background-color: ${neuColor};\n  background-image: ${neuGrad};\n  font-size: 28px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  .title {\n    color: white;\n    width: 90%;\n    max-width: 500px;\n  }\n`;\n","import { InputInterface } from \"../InputInterface/InputInterface\";\nimport { PassagesList } from \"../PassagesList/PassagesList\";\nimport { NewsClassifierWrapper, Title } from \"./NewsClassifier.styles\";\nimport { useState } from \"react\";\n\nexport const NewsClassifier = () => {\n  const [text, setText] = useState(\"\");\n  const [tag, setTag] = useState(\"\");\n\n  const onHandleSubmitButton = (text, tag) => {\n    console.log(text);\n    setText(text);\n    setTag(tag);\n  };\n\n  return (\n    <NewsClassifierWrapper>\n      <Title>\n        <div className=\"title\">Классификатор новостей</div>\n      </Title>\n      <InputInterface onHandleSubmitButton={onHandleSubmitButton} />\n      <PassagesList text={text} tag={tag} />\n    </NewsClassifierWrapper>\n  );\n};\n","import styled from \"styled-components\";\n\nexport const Main = styled.main`\n  font-family: \"Roboto\", sans-serif;\n  position: relative;\n  background-color: white;\n  color: black;\n`;\n","import { NewsClassifier } from \"./components/NewsClassifier/NewsClassifier\";\nimport { Main } from \"./fixtures/globals\";\n\nfunction App() {\n  return (\n    <Main>\n      <NewsClassifier />\n    </Main>\n  );\n}\n\nexport default App;\n","import { configureStore } from \"@reduxjs/toolkit\";\r\nimport { setupListeners } from \"@reduxjs/toolkit/query\";\r\nimport { newsClassifierApi } from \"./services/newsClassifier\";\r\n\r\nexport const store = configureStore({\r\n    reducer: {\r\n        [newsClassifierApi.reducerPath]: newsClassifierApi.reducer,\r\n    },\r\n    middleware: (getDefaultMiddleware) =>\r\n        getDefaultMiddleware()\r\n            .concat(newsClassifierApi.middleware)\r\n});\r\n\r\nsetupListeners(store.dispatch);\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"normalize.css\";\nimport { store } from \"./store\";\nimport { Provider } from \"react-redux\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}